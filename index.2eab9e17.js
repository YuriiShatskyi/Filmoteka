const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Sci-Fi"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],t={bouncer:document.querySelector(".js-bouncer")};function n(){t.bouncer.classList.add("is-hidden")}function o(){t.bouncer.classList.remove("is-hidden")}function a(t,o){t.then((t=>{const a=t.map((t=>{let n=t.genre_ids.map((t=>e.find((e=>e.id===t)).name)).join(", ");return`\n   <a id=${t.id} class="gallery__poster-card" href="">\n    <img class="poster-card__image" src="https://image.tmdb.org/t/p/w780${t.poster_path}" alt="" loading="lazy" />\n    <div class="poster-card__info">\n      <p class="info-item title">\n        ${t.original_title}\n      </p>\n      <p class="info-item">\n      ${n} | ${t.release_date.substring(0,4)}\n      </p>\n    \n    </div>\n    </a>\n  `})).join("");n(),o.innerHTML=a}))}console.log(t.bouncer);const i={gallery:document.querySelector(".gallery")};async function s(e){try{const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US&query=${e}&page=1&include_adult=false`),n=await t.json();return console.log(n.results),n.results}catch(e){console.error(e)}}o(),a(async function(){try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=ae41ac8beda98b2e2d51e160e21365e8&page=1"),t=await e.json();return console.log(t.results),t.results}catch(e){console.error(e)}}(),i.gallery);const l={btnScrollTop:document.querySelector(".js-button-scroll-top")};l.btnScrollTop.addEventListener("click",(function(){window.scrollTo(0,0)})),window.onscroll=()=>{window.scrollY>700?l.btnScrollTop.classList.add("is-show"):window.scrollY<700&&l.btnScrollTop.classList.remove("is-show")};const r={gallery:document.querySelector(".gallery"),inputForm:document.querySelector(".header__form")};function c(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}r.inputForm.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget.elements.query.value;if(""===t.trim())return void alert("Search result not successful. Enter the correct movie name and try again");a(s(t),r.gallery),e.target.reset(),r.gallery.innerHTML="",o()}));const d=[];const m=[];const u={body:document.querySelector("body"),openModalE:document.querySelector(".filmsModal"),modalFilmInfo:document.querySelector(".modal-movie"),backdropFilmModal:document.querySelector(".backdrop"),closeModalBtn:document.querySelector("modal__close-button")};function p(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-button")|e.target.classList.contains("modal__icon"))&&g()}function v(e){"Escape"===e.key&&g()}function g(){u.backdropFilmModal.classList.add("backdrop__is-hidden"),u.modalFilmInfo.classList.add("modal__is-hidden"),u.body.classList.remove("no-scroll"),document.removeEventListener("click",p),document.removeEventListener("keydown",v)}u.openModalE.addEventListener("click",(function(e){o(),u.modalFilmInfo.innerHTML="";const t=e.target.closest(".gallery__poster-card");if(e.preventDefault(),!t)return;const a=t.getAttribute("id");u.backdropFilmModal.classList.remove("backdrop__is-hidden"),u.modalFilmInfo.classList.remove("modal__is-hidden"),u.body.classList.add("no-scroll"),i=a,async function(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US`);return await t.json()}catch(e){console.error(e)}}(i).then((e=>{!function({title:e,popularity:t,original_title:n,vote_average:o,genres:a,poster_path:i,overview:s,vote_count:l}){const r="https://image.tmdb.org/t/p/",c="w500",d=a.map((e=>e.name)).join(", ");u.modalFilmInfo.innerHTML=`<button type="button" class="modal__close-button">\n     <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="14"\n        height="14"\n        fill="currentColor"\n        class="modal__icon"\n        viewBox="0 0 16 16"\n      >\n        <path\n          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n        />\n      </svg>\n    </button>\n\n    \n        <div class="modal__card">\n        <div class="modal__wrapper">\n            <img class="modal__img" src="${i?`${r}${c}${i}`:imgPlaceholder}" alt="${e}">\n        </div>\n        \n        <div class="modal__filminfo">\n            <h2 class="modal__title">${n}</h2>\n        \n            <table class="modal-movie-properties">\n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Vote / Votes</td>\n                    <td class="modal-movie-properties__value"><span id="vote" class="modal-movie-properties__vote">${o.toFixed(1)}</span>  / \n                        <span id="votes">${l}</span>\n                    </td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Popularity</td>\n                    <td class="modal-movie-properties__value" id="popularity">${t}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Original Title</td>\n                    <td class="modal-movie-properties__value" id="original-title">${n}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Genre</td>\n                    <td class="modal-movie-properties__value" id="genre"> ${d}</td>\n                </tr>\n        \n            </table>\n        \n            <h3 class="modal__descr-title">About</h3>\n            <p class="modal__descr" id="overview">${s}</p>\n\n            <button type="button" id="trailer" class="modal__button">watch trailer</button>\n        \n            <div class="modal__button-container">\n                <button type="button" id="watched" class="modal__button">add to watched</button>\n                <button type="button" id="queue" class="modal__button">add to queue</button>\n            </div>\n        \n        </div>\n    </div>`}(e),function(e){const t=document.querySelector("#watched");t.addEventListener("click",(()=>{const n=e;return"add to watched"===t.textContent?(t.textContent="remove from watched",d.includes(n)||d.push(n),console.log(d),localStorage.setItem("watched-films",JSON.stringify(d)),d):"remove from watched"===t.textContent?(c(d,n),t.textContent="add to watched",localStorage.setItem("watched-films",JSON.stringify(d)),d):void 0}))}(e),function(e){const t=document.querySelector("#queue");t.addEventListener("click",(()=>{const n=e;return"add to queue"===t.textContent?(t.textContent="remove from queue",m.includes(n)||m.push(n),console.log(m),localStorage.setItem("queue-films",JSON.stringify(m)),m):"remove from queue"===t.textContent?(c(m,n),t.textContent="add to queue",localStorage.setItem("queue-films",JSON.stringify(m)),m):void 0}))}(e),n()})),document.addEventListener("keydown",v),document.addEventListener("click",p);var i}));const _=initializeApp({apiKey:"AIzaSyAtpKsHrzjzgSonJI46WHF-o0DqXya7MXc",authDomain:"filmoteka-33c7f.firebaseapp.com",projectId:"filmoteka-33c7f",storageBucket:"filmoteka-33c7f.appspot.com",messagingSenderId:"353866619505",appId:"1:353866619505:web:2ad78541afaacda309d9d0"}),y=(getAuth(_),new GoogleAuthProvider,{openAuthModal:document.querySelector("[data-auth-modal-open]"),closeAuthModal:document.querySelector("[data-auth-modal-close]"),modalAuth:document.querySelector("[data-auth-modal]"),body:document.querySelector("body")});y.openAuthModal.addEventListener("click",(function(){y.modalAuth.classList.toggle("visually-hidden")}));document.querySelector("[sign-in-with-google]");function f(){y.modalAuth.classList.add("visually-hidden")}document.addEventListener("keydown",(function(e){"Escape"===e.key&&f()})),document.addEventListener("click",(function(e){e.target.classList.contains("backdrop")&&f()}));const h=document.querySelector(".pagination ul");document.querySelector(".btn next"),document.querySelector(".btn prev");h.innerHTML=function(e,t){let n,o="",a=t-1,i=t+1;t>1&&(o+=`<li class="btn prev"  "createPagination(totalPages, ${t-1})"><span class="left">Prev</span></li>`);t>2&&(o+='<li class="first number" "createPagination(totalPages, 1)"><span>1</span></li>',t>3&&(o+='<li class="dots"><span>...</span></li>'));t==e?a-=2:t==e-1&&(a-=1);1==t?i+=2:2==t&&(i+=1);for(let s=a;s<=i;s++)s>e||(0==s&&(s+=1),n=t==s?"active":"",o+=`<li class="number ${n}" "createPagination(totalPages, ${s})"><span>${s}</span></li>`);t<e-1&&(t<e-2&&(o+='<li class="dots"><span>...</span></li>'),o+=`<li class="last number" "createPagination(totalPages, ${e})"><span>${e}</span></li>`);t<e&&(o+=`<li class="btn next"  "createPagination(totalPages, ${t+1})")><span class="right">Next</span></li>`);return h.innerHTML=o,o}(10,2);
//# sourceMappingURL=index.2eab9e17.js.map
