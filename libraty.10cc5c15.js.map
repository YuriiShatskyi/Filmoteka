{"mappings":"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","sources":["src/js/genres-list.js","src/js/fetch.js","src/js/button-scroll-to-top.js","src/js/modal.js"],"sourcesContent":["export const API_GENRES = [\n    { id: 28, name: 'Action' },\n    { id: 12, name: 'Adventure' },\n    { id: 16, name: 'Animation' },\n    { id: 35, name: 'Comedy' },\n    { id: 80, name: 'Crime' },\n    { id: 99, name: 'Documentary' },\n    { id: 18, name: 'Drama' },\n    { id: 10751, name: 'Family' },\n    { id: 14, name: 'Fantasy' },\n    { id: 36, name: 'History' },\n    { id: 27, name: 'Horror' },\n    { id: 10402, name: 'Music' },\n    { id: 9648, name: 'Mystery' },\n    { id: 10749, name: 'Romance' },\n    { id: 878, name: 'Sci-Fi' },\n    { id: 10770, name: 'TV Movie' },\n    { id: 53, name: 'Thriller' },\n    { id: 10752, name: 'War' },\n    { id: 37, name: 'Western' },\n  ];\n\n\n","import { API_GENRES } from \"./genres-list\";\n\nconst API_KEY = 'ae41ac8beda98b2e2d51e160e21365e8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  nextPage: document.querySelector('#next-button'),\n  prevPage: document.querySelector('#prev-button'),\n}\n\nlet page = 1;\n\n// Слухачі\n\nrefs.nextPage.addEventListener('click', onLoadMore)\nrefs.prevPage.addEventListener('click', backOnLoadMore)\n\n\nexport async function fetchTrendingFilms() {\n  try {\n    const response = await fetch(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n    );\n    const result = await response.json();\n    console.log(result.results);\n    return result.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction renderMarkup() {\n  fetchTrendingFilms().then(movies => {\n\n    // addPage()\n    \n    const newMarkup = movies\n      .map(movie => {\nlet genres = movie.genre_ids.map(genre_id => { return (API_GENRES.find(genre => genre.id === genre_id)).name}).join(', ');\n       \n        return `\n <a id=${movie.id} class=\"gallery__poster-card\" href=\"\">\n  <img class=\"poster-card__image\" src=\"https://image.tmdb.org/t/p/w780${\n    movie.poster_path\n  }\" alt=\"\" loading=\"lazy\" />\n  <div class=\"poster-card__info\">\n    <p class=\"info-item title\">\n      ${movie.original_title}\n    </p>\n    <p class=\"info-item\">\n    ${genres} | ${movie.release_date.substring(0, 4)}\n    </p>\n  \n  </div>\n  </a>\n`;\n      })\n      .join('');\n    refs.gallery.innerHTML = newMarkup;\n  });\n}\n\nrenderMarkup();\n\n\n// =============================================\n\n\n// Функція для кнопки \"next and back\"\nfunction onLoadMore() {\n    addPage()\n    \n    fetchTrendingFilms()\n        .then(renderMarkup)\n       \n    \n}\n\n\nfunction backOnLoadMore() {\n    resetPage()\n    \n    fetchTrendingFilms()\n        .then(renderMarkup)\n       \n    \n}\n\n\n//  функція , що б переходити на наступну сторінку\n    function addPage() { \n      \n        page += 1;\n            \n    }\n\n    // функція що б почати з початку з нового пошуку\n    function resetPage() { \n        page = 1;\n    }\n//   function endOfPictures(params) {\n    \n//   }","/*\nscroll-top-button\n*/\nlet getEl = selector => document.querySelector(selector)\ngetEl('.js-button-scroll-top').addEventListener('click', onScrollBtnClick)\n\n  window.onscroll = () => {\n  if (window.scrollY > 700) {\n    getEl('.js-button-scroll-top').classList.add('is-show')\n  } else if (window.scrollY < 700) {\n    getEl('.js-button-scroll-top').classList.remove('is-show')\n  }\n}\n\nfunction onScrollBtnClick() {\n    window.scrollTo(0,0)\n}","import \"./fetch\"\n\nconst API_KEY = 'ae41ac8beda98b2e2d51e160e21365e8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst refs = {\n    openModalE: document.querySelector(\".filmsModal\"),\n    modalFilmInfo: document.querySelector(\".modal-movie\"),\n    backdropFilmModal: document.querySelector('.backdrop'),  \n    closeModalBtn: document.querySelector(\"modal__close-button\"),\n  };\n\n\nrefs.openModalE.addEventListener('click', onMovieCLick);\n\n\nfunction onMovieCLick(event) {\n    refs.modalFilmInfo.innerHTML = '';\n    \n    const isCard = event.target.closest('.gallery__poster-card');\n\n    event.preventDefault();\n\n    if (!isCard) {\n        return;\n    }\n    \n    const movieId = isCard.getAttribute('id');\n        \n    openModal();\n\n    moviesByID(movieId);\n   \n\n    document.addEventListener('keydown', onEscClose);\n    document.addEventListener('click', onClickClose);\n}\n\nfunction openModal() {\n  refs.backdropFilmModal.classList.remove('backdrop__is-hidden');  \n  refs.modalFilmInfo.classList.remove('modal__is-hidden');\n  //refs.body.classList.add('no-scroll');\n}\n\n\nasync function getMoviesByID(movieID) {\n  try {\n        const response = await fetch(`${BASE_URL}/movie/${movieID}?api_key=${API_KEY}&language=en-US`);\n        const result = await response.json();\n        console.log(result);\n        return result;\n  } catch (error) {\n        console.error(error);\n  }\n}\n\n\nexport function moviesByID(movieID) {\n    getMoviesByID(movieID).then(data => {\n    createModalFilmInfoMarkup(data);\n  });\n}\n\n\n\n\nfunction createModalFilmInfoMarkup({\n    title,\n    popularity,\n    original_title,\n    vote_average,\n    genres,\n    poster_path,\n    overview,\n    vote_count,\n}) {\n    const base_url = 'https://image.tmdb.org/t/p/';\n    const size = 'w500';\n    const genresList = genres.map(genre => genre.name).join(', ');\n    \n\n    refs.modalFilmInfo.innerHTML = `<button type=\"button\" class=\"modal__close-button\">\n                <svg class=\"modal_icon icon\" width=\"14\" height=\"14\">\n                    <use href=\"./images/icons.svg#icon-close\"></use>\n                </svg>\n        </button>\n    \n        <div class=\"modal__card\">\n        <div>\n            <img class=\"modal__img\" src=\"${poster_path ? `${base_url}${size}${poster_path}` : imgPlaceholder}\" alt=\"${title}\">\n        </div>\n        \n        <div>\n            <h2 class=\"modal__title\">${original_title}</h2>\n        \n            <table class=\"modal-movie-properties\">\n                <tr class=\"modal-movie-properties__info\">\n                    <td class=\"modal-movie-properties__name\">Vote / Votes</td>\n                    <td class=\"modal-movie-properties__value\"><span id=\"vote\" class=\"modal-movie-properties__vote\">${vote_average.toFixed(1)}</span> /\n                        <span id=\"votes\">${vote_count}</span>\n                    </td>\n                </tr>\n        \n                <tr class=\"modal-movie-properties__info\">\n                    <td class=\"modal-movie-properties__name\">Popularity</td>\n                    <td class=\"modal-movie-properties__value\" id=\"popularity\">${popularity}</td>\n                </tr>\n        \n                <tr class=\"modal-movie-properties__info\">\n                    <td class=\"modal-movie-properties__name\">Original Title</td>\n                    <td class=\"modal-movie-properties__value\" id=\"original-title\">${original_title}</td>\n                </tr>\n        \n                <tr class=\"modal-movie-properties__info\">\n                    <td class=\"modal-movie-properties__name\">Genre</td>\n                    <td class=\"modal-movie-properties__value\" id=\"genre\"> ${genresList}</td>\n                </tr>\n        \n            </table>\n        \n            <h3 class=\"modal__descr-title\">About</h3>\n            <p class=\"modal__descr\" id=\"overview\">${overview}</p>\n        \n            <div class=\"modal__button-container\">\n                <button type=\"button\" id=\"WATCHED\" class=\"modal__button\">ADD TO WATCHED</button>\n                <button type=\"button\" id=\"QUEUE\" class=\"modal__button\">ADD TO QUEUE</button>\n            </div>\n        \n        </div>\n    </div>`;\n}\n\n\n\n\n\n\nfunction onClickClose(event) {\n  if (\n    event.target.classList.contains('backdrop') ||\n    event.target.classList.contains('modal__close-button') |\n    event.target.classList.contains('modal_icon')) {\n    closeModal();\n  }\n}\n\nfunction onEscClose(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n    refs.backdropFilmModal.classList.add('backdrop__is-hidden');  \n    refs.modalFilmInfo.classList.add('modal__is-hidden');\n    //refs.body.classList.remove('no-scroll');\n    document.removeEventListener('click', onClickClose);\n    document.removeEventListener('keydown', onEscClose);\n}\n"],"names":["$dcb0a6f543c0e019$export$8da644760595d7d1","id","name","$924b66e829bc1184$var$refs","gallery","document","querySelector","nextPage","prevPage","$924b66e829bc1184$var$page","async","$924b66e829bc1184$export$6da29e5a2b5f3199","response","fetch","result","json","console","log","results","error","$924b66e829bc1184$var$renderMarkup","then","movies","newMarkup","map","movie","genres","genre_ids","genre_id","find","genre","join","poster_path","original_title","release_date","substring","innerHTML","addEventListener","$8c2865b5a7d8ba9e$var$getEl","selector","window","scrollTo","onscroll","scrollY","classList","add","remove","$8a7e756c566dd1ea$var$refs","openModalE","modalFilmInfo","backdropFilmModal","closeModalBtn","$8a7e756c566dd1ea$var$onClickClose","event","target","contains","$8a7e756c566dd1ea$var$closeModal","$8a7e756c566dd1ea$var$onEscClose","key","removeEventListener","isCard","closest","preventDefault","movieId","getAttribute","movieID","$8a7e756c566dd1ea$var$getMoviesByID","data","title","popularity","vote_average","overview","vote_count","base_url","size","genresList","imgPlaceholder","toFixed","$8a7e756c566dd1ea$var$createModalFilmInfoMarkup"],"version":3,"file":"libraty.10cc5c15.js.map"}