function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r),r.register("krGWQ",(function(t,o){e(t.exports,"refs",(function(){return n}));const n={openAuthModalBtn:document.querySelector("[data-auth-modal-open]"),closeAuthModal:document.querySelector("[data-auth-modal-close]"),modalAuth:document.querySelector("[data-auth-modal]"),body:document.querySelector("body"),btnScrollTop:document.querySelector(".js-button-scroll-top"),gallery:document.querySelector(".gallery"),bouncer:document.querySelector(".js-bouncer"),openModalE:document.querySelector(".filmsModal"),modalFilmInfo:document.querySelector(".modal-movie"),backdropFilmModal:document.querySelector(".backdrop"),closeModalBtn:document.querySelector("modal__close-button"),watchedBtn:document.querySelector(".wached-btn"),queueBtn:document.querySelector(".queue-btn"),inputForm:document.querySelector(".header__form"),openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),backdrop:document.querySelector(".backdrop__team")}})),r.register("bTcpz",(function(e,t){r("cyIMT"),r("e7y5x"),r("8mwU1");var o=r("gjiCh"),n=r("gffsD"),a=r("i8szs"),i=r("bZJOo"),s=r("krGWQ");function d(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-button")|e.target.classList.contains("modal__icon"))&&l()}function c(e){"Escape"===e.key&&l()}function l(){s.refs.backdropFilmModal.classList.add("backdrop__is-hidden"),s.refs.modalFilmInfo.classList.add("modal__is-hidden"),s.refs.body.classList.remove("no-scroll"),document.removeEventListener("click",d),document.removeEventListener("keydown",c)}s.refs.openModalE.addEventListener("click",(function(e){s.refs.modalFilmInfo.innerHTML="",e.preventDefault();const t=e.target.closest(".gallery__poster-card");if(!t)return;const r=t.getAttribute("id");(0,o.showLoader)(),s.refs.backdropFilmModal.classList.remove("backdrop__is-hidden"),s.refs.modalFilmInfo.classList.remove("modal__is-hidden"),s.refs.body.classList.add("no-scroll"),l=r,async function(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US`);return await t.json()}catch(e){console.error(e)}}(l).then((e=>{console.log(e),function({title:e,popularity:t,original_title:o,vote_average:n,genres:r,poster_path:a,overview:i,vote_count:d}){const c="https://image.tmdb.org/t/p/",l="w500",u=r.map((e=>e.name)).join(", ");s.refs.modalFilmInfo.innerHTML=`<button type="button" class="modal__close-button">\n     <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="14"\n        height="14"\n        fill="currentColor"\n        class="modal__icon"\n        viewBox="0 0 16 16"\n      >\n        <path\n          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n        />\n      </svg>\n    </button>\n\n    \n        <div class="modal__card">\n        <div class="modal__wrapper">\n            <img class="modal__img" src="${a?`${c}${l}${a}`:imgPlaceholder}" alt="${e}">\n        </div>\n        \n        <div class="modal__filminfo">\n            <h2 class="modal__title">${o}</h2>\n        \n            <table class="modal-movie-properties">\n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Vote / Votes</td>\n                    <td class="modal-movie-properties__value"><span id="vote" class="modal-movie-properties__vote">${n.toFixed(1)}</span>  / \n                        <span id="votes">${d}</span>\n                    </td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Popularity</td>\n                    <td class="modal-movie-properties__value" id="popularity">${t}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Original Title</td>\n                    <td class="modal-movie-properties__value" id="original-title">${o}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Genre</td>\n                    <td class="modal-movie-properties__value" id="genre"> ${u}</td>\n                </tr>\n        \n            </table>\n        \n            <h3 class="modal__descr-title">About</h3>\n            <p class="modal__descr" id="overview">${i}</p>\n\n            <button type="button" id="trailer" class="modal__button">watch trailer</button>\n        \n            <div class="modal__button-container">\n                <button type="button" id="watched" class="modal__button">add to watched</button>\n                <button type="button" id="queue" class="modal__button">add to queue</button>\n            </div>\n        \n        </div>\n    </div>`}(e),(0,n.addFilmToWatched)(e),(0,i.watchedTrailer)(e),(0,a.addFilmToQueue)(e),(0,o.hideLoader)()})),document.addEventListener("keydown",c),document.addEventListener("click",d);var l}))})),r.register("cyIMT",(function(t,o){e(t.exports,"fetchSearchingFilms",(function(){return s}));var n=r("gjiCh"),a=r("e7y5x"),i=r("krGWQ");async function s(e){try{const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US&query=${e}&page=1&include_adult=false`),o=await t.json();return console.log(o.results),o.results}catch(e){console.error(e)}finally{(0,n.hideLoader)()}}(0,n.showLoader)(),(0,a.renderMarkup)(async function(){try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=ae41ac8beda98b2e2d51e160e21365e8&page=1"),t=await e.json();return console.log(t.results),t.results}catch(e){console.error(e)}finally{(0,n.hideLoader)()}}(),i.refs.gallery)})),r.register("gjiCh",(function(t,o){e(t.exports,"hideLoader",(function(){return a})),e(t.exports,"showLoader",(function(){return i}));var n=r("krGWQ");function a(){n.refs.bouncer.classList.add("is-hidden")}function i(){n.refs.bouncer.classList.remove("is-hidden")}console.log(n.refs.bouncer)})),r.register("e7y5x",(function(t,o){e(t.exports,"renderMarkup",(function(){return a}));var n=r("iWJ8d");function a(e,t){e.then((e=>{const o=e.map((e=>{let t=e.genre_ids.map((e=>n.API_GENRES.find((t=>t.id===e)).name)).join(", ");return`\n   <a id=${e.id} class="gallery__poster-card" href="">\n    <img class="poster-card__image" src="https://image.tmdb.org/t/p/w780${e.poster_path}" alt="" loading="lazy" />\n    <div class="poster-card__info">\n      <p class="info-item title">\n        ${e.original_title}\n      </p>\n      <p class="info-item">\n      ${t} | ${e.release_date.substring(0,4)}      <span class="vote-container visually-hidden">${e.vote_average.toFixed(1)}</span> \n      </p>\n\n    </div>\n    </a>\n  `})).join("");t.innerHTML=o}))}r("gjiCh")})),r.register("iWJ8d",(function(t,o){e(t.exports,"API_GENRES",(function(){return n}));const n=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Sci-Fi"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]})),r.register("8mwU1",(function(e,t){var o=r("e7y5x"),n=r("cyIMT"),a=r("gjiCh"),i=r("krGWQ");i.refs.inputForm.addEventListener("submit",(function(e){e.preventDefault(),(0,a.showLoader)();const t=e.currentTarget.elements.query.value;if(""===t.trim())return alert("Search result not successful. Enter the correct movie name and try again"),void(0,a.hideLoader)();(0,o.renderMarkup)((0,n.fetchSearchingFilms)(t),i.refs.gallery),e.target.reset()}))})),r.register("gffsD",(function(t,o){e(t.exports,"addFilmToWatched",(function(){return d}));var n=r("jCrzr");const a="watched-films";let i;const s=JSON.parse(localStorage.getItem(a));function d(e){const t=document.querySelector("#watched");i.some((t=>t.id==e.id))&&(t.textContent="remove from watched"),t.addEventListener("click",(()=>{const o=e;if(t.textContent="remove from watched",!i.some((t=>t.id===e.id)))return i.push(o),localStorage.setItem(a,JSON.stringify(i)),i;if(i.some((t=>t.id===e.id))){const o=i.find((t=>t.id===e.id));return(0,n.removeMovie)(i,o),t.textContent="add to watched",localStorage.setItem(a,JSON.stringify(i)),i}}))}i=s||[]})),r.register("jCrzr",(function(t,o){function n(e,t){const o=e.indexOf(t);return o>-1&&e.splice(o,1),e}e(t.exports,"removeMovie",(function(){return n}))})),r.register("i8szs",(function(t,o){e(t.exports,"addFilmToQueue",(function(){return d}));var n=r("jCrzr");const a="queue-films";let i;const s=JSON.parse(localStorage.getItem(a));function d(e){const t=document.querySelector("#queue");i.some((t=>t.id==e.id))&&(t.textContent="remove from queue"),t.addEventListener("click",(()=>{const o=e;if(t.textContent="remove from queue",!i.some((t=>t.id===e.id)))return i.push(o),localStorage.setItem(a,JSON.stringify(i)),i;if(i.some((t=>t.id===e.id))){const o=i.find((t=>t.id===e.id));return(0,n.removeMovie)(i,o),t.textContent="add to queue",localStorage.setItem(a,JSON.stringify(i)),i}}))}i=s||[]})),r.register("bZJOo",(function(t,o){e(t.exports,"watchedTrailer",(function(){return a}));const n=document.querySelector(".modal-movie");async function r(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US`);let o=(await t.json()).results[0].key;console.log(o),function(e){const t=document.createElement("iframe");t.src=`https://www.youtube.com/embed/${e}?`,t.frameborder="0",t.setAttribute("allowfullscreen","true"),console.log(t),n.append(t)}(o)}catch(e){console.error(e)}}function a(e){document.querySelector("#trailer").addEventListener("click",(()=>{const t=e.id;console.log(t),console.log(r(t))}))}})),r.register("baGT8",(function(e,t){var o=r("krGWQ");function n(e){(e.target.classList.contains("backdrop__team")||e.target.classList.contains("modal-team__close-button")|e.target.classList.contains("modal__icon"))&&i()}function a(e){"Escape"===e.key&&i()}function i(){o.refs.backdrop.classList.add("backdrop-team__is-hidden"),o.refs.modal.classList.add("modal__is-hidden"),o.refs.body.classList.remove("no-scroll"),document.removeEventListener("click",n),document.removeEventListener("keydown",a)}o.refs.openModalBtn.addEventListener("click",(function(e){e.preventDefault(),o.refs.backdrop.classList.remove("backdrop-team__is-hidden"),o.refs.modal.classList.remove("modal-team__is-hidden"),console.log("убрался бєк модалки"),o.refs.body.classList.add("no-scroll"),document.addEventListener("keydown",a),document.addEventListener("click",n)}))}));
//# sourceMappingURL=libraty.6ade1ed4.js.map
