function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o.register("baGT8",(function(e,t){var n=o("krGWQ");function r(e){(e.target.classList.contains("backdrop__team")||e.target.classList.contains("modal-team__close-button")|e.target.classList.contains("modal__icon"))&&i()}function a(e){"Escape"===e.key&&i()}function i(){n.refs.backdrop.classList.add("backdrop-team__is-hidden"),n.refs.modal.classList.add("modal__is-hidden"),n.refs.body.classList.remove("no-scroll"),document.removeEventListener("click",r),document.removeEventListener("keydown",a)}n.refs.openModalBtn.addEventListener("click",(function(e){e.preventDefault(),n.refs.backdrop.classList.remove("backdrop-team__is-hidden"),n.refs.modal.classList.remove("modal-team__is-hidden"),n.refs.body.classList.add("no-scroll"),document.addEventListener("keydown",a),document.addEventListener("click",r)}))})),o.register("krGWQ",(function(t,n){e(t.exports,"refs",(function(){return r}));const r={openAuthModalBtn:document.querySelector("[data-auth-modal-open]"),closeAuthModal:document.querySelector("[data-auth-modal-close]"),modalAuth:document.querySelector("[data-auth-modal]"),body:document.querySelector("body"),btnScrollTop:document.querySelector(".js-button-scroll-top"),gallery:document.querySelector(".gallery"),bouncer:document.querySelector(".js-bouncer"),openModalE:document.querySelector(".filmsModal"),modalFilmInfo:document.querySelector(".modal-movie"),backdropFilmModal:document.querySelector(".backdrop"),closeModalBtn:document.querySelector("modal__close-button"),watchedBtn:document.querySelector(".wached-btn"),queueBtn:document.querySelector(".queue-btn"),inputForm:document.querySelector(".header__form"),openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),backdrop:document.querySelector(".backdrop__team"),modalTrailer:document.querySelector(".modal-movie"),iframe:document.querySelector(".iframe")}})),o.register("bTcpz",(function(e,t){o("cyIMT"),o("e7y5x"),o("8mwU1");var n=o("gjiCh"),r=o("gffsD"),a=o("i8szs"),i=o("bZJOo"),s=o("krGWQ");function d(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-button")|e.target.classList.contains("modal__icon"))&&l()}function c(e){"Escape"===e.key&&l()}function l(){s.refs.backdropFilmModal.classList.add("backdrop__is-hidden"),s.refs.modalFilmInfo.classList.add("modal__is-hidden"),s.refs.body.classList.remove("no-scroll"),s.refs.iframe.classList.add("backdrop__is-hidden"),s.refs.iframe.removeAttribute("src"),document.removeEventListener("click",d),document.removeEventListener("keydown",c)}s.refs.openModalE.addEventListener("click",(function(e){s.refs.modalFilmInfo.innerHTML="",e.preventDefault();const t=e.target.closest(".gallery__poster-card");if(!t)return;const o=t.getAttribute("id");(0,n.showLoader)(),s.refs.backdropFilmModal.classList.remove("backdrop__is-hidden"),s.refs.modalFilmInfo.classList.remove("modal__is-hidden"),s.refs.body.classList.add("no-scroll"),l=o,async function(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US`);return await t.json()}catch(e){console.error(e)}}(l).then((e=>{!function({title:e,popularity:t,original_title:n,vote_average:r,genres:o,poster_path:a,overview:i,vote_count:d}){const c="https://image.tmdb.org/t/p/",l="w500",u=o.map((e=>e.name)).join(", ");s.refs.modalFilmInfo.innerHTML=`<button type="button" class="modal__close-button">\n     <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="14"\n        height="14"\n        fill="currentColor"\n        class="modal__icon"\n        viewBox="0 0 16 16"\n      >\n        <path\n          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n        />\n      </svg>\n    </button>\n\n    \n        <div class="modal__card">\n        <div class="modal__wrapper">\n            <img class="modal__img" src="${a?`${c}${l}${a}`:imgPlaceholder}" alt="${e}">\n        </div>\n        \n        <div class="modal__filminfo">\n            <h2 class="modal__title">${n}</h2>\n        \n            <table class="modal-movie-properties">\n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Vote / Votes</td>\n                    <td class="modal-movie-properties__value"><span id="vote" class="modal-movie-properties__vote">${r.toFixed(1)}</span>  / \n                        <span id="votes">${d}</span>\n                    </td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Popularity</td>\n                    <td class="modal-movie-properties__value" id="popularity">${t}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Original Title</td>\n                    <td class="modal-movie-properties__value" id="original-title">${n}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Genre</td>\n                    <td class="modal-movie-properties__value" id="genre"> ${u}</td>\n                </tr>\n        \n            </table>\n        \n            <h3 class="modal__descr-title">About</h3>\n            <p class="modal__descr" id="overview">${i}</p>\n\n            <button type="button" id="trailer" class="modal__button">watch trailer</button>\n        \n            <div class="modal__button-container">\n                <button type="button" id="watched" class="modal__button">add to watched</button>\n                <button type="button" id="queue" class="modal__button">add to queue</button>\n            </div>\n        \n        </div>\n    </div>`}(e),(0,r.addFilmToWatched)(e),(0,i.watchedTrailer)(e),(0,a.addFilmToQueue)(e),(0,n.hideLoader)()})),document.addEventListener("keydown",c),document.addEventListener("click",d);var l}))})),o.register("cyIMT",(function(t,n){e(t.exports,"currentURL",(function(){return d})),e(t.exports,"fetchTrendingFilms",(function(){return c})),e(t.exports,"fetchSearchingFilms",(function(){return l}));var r=o("gjiCh"),a=(r=o("gjiCh"),o("e7y5x")),i=o("2nhTy");o("8mwU1");var s=o("krGWQ");let d="";async function c(){try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=ae41ac8beda98b2e2d51e160e21365e8"),t=await e.json();return d="trendingFilmsURL",t.results}catch(e){console.error(e)}finally{(0,r.hideLoader)()}}async function l(e){try{const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US&query=${e}&page=${i.page}&include_adult=false`),n=await t.json();return d="searchingFilmsURL",n.results}catch(e){console.error(e)}finally{(0,r.hideLoader)()}}(0,r.showLoader)(),(0,a.renderMarkup)(c(),s.refs.gallery)})),o.register("gjiCh",(function(t,n){e(t.exports,"hideLoader",(function(){return a})),e(t.exports,"showLoader",(function(){return i}));var r=o("krGWQ");function a(){r.refs.bouncer.classList.add("is-hidden")}function i(){r.refs.bouncer.classList.remove("is-hidden")}})),o.register("e7y5x",(function(t,n){e(t.exports,"renderMarkup",(function(){return a}));var r=o("iWJ8d");function a(e,t){e.then((e=>{const n=e.map((e=>{let t=e.genre_ids.map((e=>r.API_GENRES.find((t=>t.id===e)).name)).join(", ");return`\n   <a id=${e.id} class="gallery__poster-card" href="">\n    <img class="poster-card__image" src="https://image.tmdb.org/t/p/w780${e.poster_path}" alt="" loading="lazy" />\n    <div class="poster-card__info">\n      <p class="info-item title">\n        ${e.original_title}\n      </p>\n      <p class="info-item">\n      ${t} | ${e.release_date.substring(0,4)}      <span class="vote-container visually-hidden">${e.vote_average.toFixed(1)}</span> \n      </p>\n\n    </div>\n    </a>\n  `})).join("");t.innerHTML=n}))}o("gjiCh")})),o.register("iWJ8d",(function(t,n){e(t.exports,"API_GENRES",(function(){return r}));const r=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Sci-Fi"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]})),o.register("2nhTy",(function(t,n){e(t.exports,"page",(function(){return s})),o("iWJ8d");var r=o("krGWQ"),a=o("cyIMT"),i=o("e7y5x");o("8mwU1");let s=1;const d=document.querySelector(".pagination ul");let c="";function l(e,t){let n="";return t>1&&(n+='<li class="btn prev">Prev</li>'),t>1&&(n+='<li class="first number">1</li>'),t>4&&(n+='<li class="dots">...</li>'),t>2&&(n+=`<li class="number">${t-1}</li>`),n+=`<li class="number">${t}</li>`,e-1>t&&(n+=`<li class="number">${t+1}</li>`),e-3>t&&(n+='<li class="dots">...</li>'),e>t&&(n+=`<li class="last number">${e}</li>`,n+=`<li class="btn next" ${t+1}>Next</li>`),l.innerHTML=n,n}function u(){return"trendingFilmsURL"==a.currentURL?(c=(0,a.fetchTrendingFilms)(),c):"searchingFilmsURL"==a.currentURL?(c=(0,a.fetchSearchingFilms)(),c):void 0}d.innerHTML=l(10,s),d.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("Prev"===e.target.textContent)return s-=1,u(),(0,i.renderMarkup)(c,r.refs.gallery),d.innerHTML=l(10,s),void console.log(s);if("Next"===e.target.textContent)return s+=1,u(),(0,i.renderMarkup)(c,r.refs.gallery),d.innerHTML=l(10,s),void console.log(s);if("..."===e.target.textContent)return;s=e.target.textContent,u(),(0,i.renderMarkup)(c,r.refs.gallery),console.log(s),window.scrollTo({top:0})}))})),o.register("8mwU1",(function(e,t){var n=o("e7y5x"),r=o("cyIMT"),a=o("gjiCh"),i=(a=o("gjiCh"),o("krGWQ"));i.refs.inputForm.addEventListener("submit",(function(e){e.preventDefault(),(0,a.showLoader)();const t=e.currentTarget.elements.query.value;if(""===t.trim())return alert("Search result not successful. Enter the correct movie name and try again"),void(0,a.hideLoader)();(0,r.fetchSearchingFilms)(t).then((e=>{0!==e.length?(0,n.renderMarkup)((0,r.fetchSearchingFilms)(t),i.refs.gallery):alert("Search result not successful. Enter the correct movie name and try again")})).catch((e=>alert(`${e}`))),(0,a.hideLoader)(),e.target.reset()}))})),o.register("gffsD",(function(t,n){e(t.exports,"addFilmToWatched",(function(){return d}));var r=o("jCrzr");const a="watched-films";let i;const s=JSON.parse(localStorage.getItem(a));function d(e){const t=document.querySelector("#watched");i.some((t=>t.id==e.id))&&(t.textContent="remove from watched"),t.addEventListener("click",(()=>{const n=e;if(t.textContent="remove from watched",i.some((t=>t.id===e.id))){const n=i.find((t=>t.id===e.id));return(0,r.removeMovie)(i,n),t.textContent="add to watched",localStorage.setItem(a,JSON.stringify(i)),i}return i.push(n),localStorage.setItem(a,JSON.stringify(i)),i}))}i=s||[]})),o.register("jCrzr",(function(t,n){function r(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}e(t.exports,"removeMovie",(function(){return r}))})),o.register("i8szs",(function(t,n){e(t.exports,"addFilmToQueue",(function(){return d}));var r=o("jCrzr");const a="queue-films";let i;const s=JSON.parse(localStorage.getItem(a));function d(e){const t=document.querySelector("#queue");i.some((t=>t.id==e.id))&&(t.textContent="remove from queue"),t.addEventListener("click",(()=>{const n=e;if(t.textContent="remove from queue",i.some((t=>t.id===e.id))){const n=i.find((t=>t.id===e.id));return(0,r.removeMovie)(i,n),t.textContent="add to queue",localStorage.setItem(a,JSON.stringify(i)),i}return i.push(n),localStorage.setItem(a,JSON.stringify(i)),i}))}i=s||[]})),o.register("bZJOo",(function(t,n){e(t.exports,"watchedTrailer",(function(){return i}));var r=o("krGWQ");r.refs.iframe.classList.add("backdrop__is-hidden");async function a(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US`);!function(e){r.refs.iframe.classList.remove("backdrop__is-hidden"),r.refs.iframe.setAttribute("src",`https://www.youtube.com/embed/${e}?`)}((await t.json()).results[0].key)}catch(e){alert("Your movie dont have any trailer")}}function i(e){document.querySelector("#trailer").addEventListener("click",(()=>{a(e.id)}))}}));
//# sourceMappingURL=library.efd1804a.js.map
