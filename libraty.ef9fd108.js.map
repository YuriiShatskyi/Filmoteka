{"mappings":"AAAO,MAAMA,EAAa,CACtB,CAAEC,GAAI,GAAIC,KAAM,UAChB,CAAED,GAAI,GAAIC,KAAM,aAChB,CAAED,GAAI,GAAIC,KAAM,aAChB,CAAED,GAAI,GAAIC,KAAM,UAChB,CAAED,GAAI,GAAIC,KAAM,SAChB,CAAED,GAAI,GAAIC,KAAM,eAChB,CAAED,GAAI,GAAIC,KAAM,SAChB,CAAED,GAAI,MAAOC,KAAM,UACnB,CAAED,GAAI,GAAIC,KAAM,WAChB,CAAED,GAAI,GAAIC,KAAM,WAChB,CAAED,GAAI,GAAIC,KAAM,UAChB,CAAED,GAAI,MAAOC,KAAM,SACnB,CAAED,GAAI,KAAMC,KAAM,WAClB,CAAED,GAAI,MAAOC,KAAM,WACnB,CAAED,GAAI,IAAKC,KAAM,UACjB,CAAED,GAAI,MAAOC,KAAM,YACnB,CAAED,GAAI,GAAIC,KAAM,YAChB,CAAED,GAAI,MAAOC,KAAM,OACnB,CAAED,GAAI,GAAIC,KAAM,YCddC,EAAO,CACXC,QAASC,SAASC,cAAc,YAChCC,SAAUF,SAASC,cAAc,gBACjCE,SAAUH,SAASC,cAAc,iBAGnC,IAAIG,EAAO,EAQJC,eAAeC,IACpB,IACE,MAAMC,QAAiBC,MACrB,iGAA0DJ,KAEtDK,QAAeF,EAASG,OAE9B,OADAC,QAAQC,IAAIH,EAAOI,SACZJ,EAAOI,O,CACd,MAAOC,GACPH,QAAQG,MAAMA,E,EAIlB,SAASC,IACPT,IAAqBU,MAAKC,IAIxB,MAAMC,EAAYD,EACfE,KAAIC,IACX,IAAIC,EAASD,EAAME,UAAUH,KAAII,GAAsB5B,EAAW6B,MAAKC,GAASA,EAAM7B,KAAO2B,IAAW1B,OAAO6B,KAAK,MAE5G,MAAO,sHAGXN,EAAMO,oHAIFP,EAAMQ,4DAGRP,OAAYD,EAAMS,aAAaC,UAAU,EAAG,sCAKjD,IAEMJ,KAAK,IACR5B,EAAKC,QAAQgC,UAAYb,CAAS,G,CA5C/BpB,EAAFI,SAAS8B,iBAAiB,SAuDf,WAuBR5B,GAAQ,EApBZE,IACKU,KAAKD,E,IA1DdjB,EAAKK,SAAS6B,iBAAiB,SAgE/B,WAmBQ5B,EAAO,EAhBXE,IACKU,KAAKD,E,IArBdA,IC5DA,IAAIkB,EAAQC,GAAYlC,SAASC,cAAciC,GAC/CD,EAAM,yBAAyBD,iBAAiB,SAUhD,WACIG,OAAOC,SAAS,EAAE,E,IATpBD,OAAOE,SAAW,KACdF,OAAOG,QAAU,IACnBL,EAAM,yBAAyBM,UAAUC,IAAI,WACpCL,OAAOG,QAAU,KAC1BL,EAAM,yBAAyBM,UAAUE,OAAO,UAAU","sources":["src/js/genres-list.js","src/js/fetch.js","src/js/button-scroll-to-top.js"],"sourcesContent":["export const API_GENRES = [\n    { id: 28, name: 'Action' },\n    { id: 12, name: 'Adventure' },\n    { id: 16, name: 'Animation' },\n    { id: 35, name: 'Comedy' },\n    { id: 80, name: 'Crime' },\n    { id: 99, name: 'Documentary' },\n    { id: 18, name: 'Drama' },\n    { id: 10751, name: 'Family' },\n    { id: 14, name: 'Fantasy' },\n    { id: 36, name: 'History' },\n    { id: 27, name: 'Horror' },\n    { id: 10402, name: 'Music' },\n    { id: 9648, name: 'Mystery' },\n    { id: 10749, name: 'Romance' },\n    { id: 878, name: 'Sci-Fi' },\n    { id: 10770, name: 'TV Movie' },\n    { id: 53, name: 'Thriller' },\n    { id: 10752, name: 'War' },\n    { id: 37, name: 'Western' },\n  ];\n\n\n","import { API_GENRES } from \"./genres-list\";\n\nconst API_KEY = 'ae41ac8beda98b2e2d51e160e21365e8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  nextPage: document.querySelector('#next-button'),\n  prevPage: document.querySelector('#prev-button'),\n}\n\nlet page = 1;\n\n// Слухачі\n\nrefs.nextPage.addEventListener('click', onLoadMore)\nrefs.prevPage.addEventListener('click', backOnLoadMore)\n\n\nexport async function fetchTrendingFilms() {\n  try {\n    const response = await fetch(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n    );\n    const result = await response.json();\n    console.log(result.results);\n    return result.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction renderMarkup() {\n  fetchTrendingFilms().then(movies => {\n\n    // addPage()\n    \n    const newMarkup = movies\n      .map(movie => {\nlet genres = movie.genre_ids.map(genre_id => { return (API_GENRES.find(genre => genre.id === genre_id)).name}).join(', ');\n       \n        return `\n <a class=\"gallery__poster-card\" href=\"\">\n  <img class=\"poster-card__image\" src=\"https://image.tmdb.org/t/p/w780${\n    movie.poster_path\n  }\" alt=\"\" loading=\"lazy\" />\n  <div class=\"poster-card__info\">\n    <p class=\"info-item title\">\n      ${movie.original_title}\n    </p>\n    <p class=\"info-item\">\n    ${genres} | ${movie.release_date.substring(0, 4)}\n    </p>\n  \n  </div>\n  </a>\n`;\n      })\n      .join('');\n    refs.gallery.innerHTML = newMarkup;\n  });\n}\n\nrenderMarkup();\n\n\n// =============================================\n\n\n// Функція для кнопки \"next and back\"\nfunction onLoadMore() {\n    addPage()\n    \n    fetchTrendingFilms()\n        .then(renderMarkup)\n       \n    \n}\n\n\nfunction backOnLoadMore() {\n    resetPage()\n    \n    fetchTrendingFilms()\n        .then(renderMarkup)\n       \n    \n}\n\n\n//  функція , що б переходити на наступну сторінку\n    function addPage() { \n      \n        page += 1;\n            \n    }\n\n    // функція що б почати з початку з нового пошуку\n    function resetPage() { \n        page = 1;\n    }\n//   function endOfPictures(params) {\n    \n//   }","/*\nscroll-top-button\n*/\nlet getEl = selector => document.querySelector(selector)\ngetEl('.js-button-scroll-top').addEventListener('click', onScrollBtnClick)\n\n  window.onscroll = () => {\n  if (window.scrollY > 700) {\n    getEl('.js-button-scroll-top').classList.add('is-show')\n  } else if (window.scrollY < 700) {\n    getEl('.js-button-scroll-top').classList.remove('is-show')\n  }\n}\n\nfunction onScrollBtnClick() {\n    window.scrollTo(0,0)\n}"],"names":["$dcb0a6f543c0e019$export$8da644760595d7d1","id","name","$924b66e829bc1184$var$refs","gallery","document","querySelector","nextPage","prevPage","$924b66e829bc1184$var$page","async","$924b66e829bc1184$export$6da29e5a2b5f3199","response","fetch","result","json","console","log","results","error","$924b66e829bc1184$var$renderMarkup","then","movies","newMarkup","map","movie","genres","genre_ids","genre_id","find","genre","join","poster_path","original_title","release_date","substring","innerHTML","addEventListener","$8c2865b5a7d8ba9e$var$getEl","selector","window","scrollTo","onscroll","scrollY","classList","add","remove"],"version":3,"file":"libraty.ef9fd108.js.map"}