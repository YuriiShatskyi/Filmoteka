const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Sci-Fi"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],t={gallery:document.querySelector(".gallery"),nextPage:document.querySelector("#next-button"),prevPage:document.querySelector("#prev-button")};let n=1;async function o(){try{const e=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=ae41ac8beda98b2e2d51e160e21365e8&page=${n}`),t=await e.json();return console.log(t.results),t.results}catch(e){console.error(e)}}function a(){o().then((n=>{const o=n.map((t=>{let n=t.genre_ids.map((t=>e.find((e=>e.id===t)).name)).join(", ");return`\n <a id=${t.id} class="gallery__poster-card" href="">\n  <img class="poster-card__image" src="https://image.tmdb.org/t/p/w780${t.poster_path}" alt="" loading="lazy" />\n  <div class="poster-card__info">\n    <p class="info-item title">\n      ${t.original_title}\n    </p>\n    <p class="info-item">\n    ${n} | ${t.release_date.substring(0,4)}\n    </p>\n  \n  </div>\n  </a>\n`})).join("");t.gallery.innerHTML=o}))}t.nextPage.addEventListener("click",(function(){n+=1,o().then(a)})),t.prevPage.addEventListener("click",(function(){n=1,o().then(a)})),a();let i=e=>document.querySelector(e);i(".js-button-scroll-top").addEventListener("click",(function(){window.scrollTo(0,0)})),window.onscroll=()=>{window.scrollY>700?i(".js-button-scroll-top").classList.add("is-show"):window.scrollY<700&&i(".js-button-scroll-top").classList.remove("is-show")};const s={openModalE:document.querySelector(".filmsModal"),modalFilmInfo:document.querySelector(".modal-movie"),backdropFilmModal:document.querySelector(".backdrop"),closeModalBtn:document.querySelector("modal__close-button")};function l(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-button")|e.target.classList.contains("modal_icon"))&&r()}function d(e){"Escape"===e.key&&r()}function r(){s.backdropFilmModal.classList.add("backdrop__is-hidden"),s.modalFilmInfo.classList.add("modal__is-hidden"),document.removeEventListener("click",l),document.removeEventListener("keydown",d)}s.openModalE.addEventListener("click",(function(e){s.modalFilmInfo.innerHTML="";const t=e.target.closest(".gallery__poster-card");if(e.preventDefault(),!t)return;const n=t.getAttribute("id");s.backdropFilmModal.classList.remove("backdrop__is-hidden"),s.modalFilmInfo.classList.remove("modal__is-hidden"),o=n,async function(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=ae41ac8beda98b2e2d51e160e21365e8&language=en-US`),n=await t.json();return console.log(n),n}catch(e){console.error(e)}}(o).then((e=>{!function({title:e,popularity:t,original_title:n,vote_average:o,genres:a,poster_path:i,overview:l,vote_count:d}){const r="https://image.tmdb.org/t/p/",c="w500",m=a.map((e=>e.name)).join(", ");s.modalFilmInfo.innerHTML=`<button type="button" class="modal__close-button">\n                <svg class="modal_icon icon" width="14" height="14">\n                    <use href="./images/icons.svg#icon-close"></use>\n                </svg>\n        </button>\n    \n        <div class="modal__card">\n        <div>\n            <img class="modal__img" src="${i?`${r}${c}${i}`:imgPlaceholder}" alt="${e}">\n        </div>\n        \n        <div>\n            <h2 class="modal__title">${n}</h2>\n        \n            <table class="modal-movie-properties">\n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Vote / Votes</td>\n                    <td class="modal-movie-properties__value"><span id="vote" class="modal-movie-properties__vote">${o.toFixed(1)}</span> /\n                        <span id="votes">${d}</span>\n                    </td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Popularity</td>\n                    <td class="modal-movie-properties__value" id="popularity">${t}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Original Title</td>\n                    <td class="modal-movie-properties__value" id="original-title">${n}</td>\n                </tr>\n        \n                <tr class="modal-movie-properties__info">\n                    <td class="modal-movie-properties__name">Genre</td>\n                    <td class="modal-movie-properties__value" id="genre"> ${m}</td>\n                </tr>\n        \n            </table>\n        \n            <h3 class="modal__descr-title">About</h3>\n            <p class="modal__descr" id="overview">${l}</p>\n        \n            <div class="modal__button-container">\n                <button type="button" id="WATCHED" class="modal__button">ADD TO WATCHED</button>\n                <button type="button" id="QUEUE" class="modal__button">ADD TO QUEUE</button>\n            </div>\n        \n        </div>\n    </div>`}(e)})),document.addEventListener("keydown",d),document.addEventListener("click",l);var o}));
//# sourceMappingURL=libraty.10cc5c15.js.map
